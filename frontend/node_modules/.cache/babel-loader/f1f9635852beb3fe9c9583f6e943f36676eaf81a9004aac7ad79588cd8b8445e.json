{"ast":null,"code":"const BASE_URL = \"http://localhost:80/market/api/products\";\n\n// 1. OBTENER TODOS (GET /products)\n// Acción: Listar toda la colección.\nexport async function getAllProducts() {\n  // Hace GET a la URL base: http://localhost:80/market/api/products\n  const res = await fetch(BASE_URL);\n  if (!res.ok) throw new Error(\"Error al listar\");\n  return res.json();\n}\n\n// 2. CREAR (POST /products)\n// Acción: Crear un nuevo recurso en la colección.\nexport async function saveProduct(product) {\n  // Hace POST a la URL base\n  const res = await fetch(BASE_URL, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(product)\n  });\n  if (!res.ok) throw new Error(\"Error al guardar\");\n  return res.json();\n}\n\n// 3. ACTUALIZAR (PUT /products/{id})\n// Acción: Reemplazar o actualizar un recurso específico.\nexport async function updateProduct(id, product) {\n  // Hace PUT a la URL del recurso específico: http://localhost:80/market/api/products/{id}\n  const res = await fetch(`${BASE_URL}/${id}`, {\n    method: \"PUT\",\n    // **Este método define la acción de actualización.**\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(product)\n  });\n  // Nota: Es importante que el Backend espere PUT en esta ruta.\n  if (!res.ok) throw new Error(\"Error al actualizar\");\n  return res.json();\n}\n\n// 4. ELIMINAR (DELETE /products/{id})\n// Acción: Eliminar un recurso específico.\nexport async function deleteProduct(id) {\n  // Hace DELETE a la URL del recurso específico\n  const res = await fetch(`${BASE_URL}/${id}`, {\n    method: \"DELETE\"\n  });\n  // Los servidores suelen devolver 204 (No Content) o 200 (OK) al eliminar.\n  if (res.status !== 204 && res.status !== 200) {\n    throw new Error(\"No se pudo eliminar\");\n  }\n}","map":{"version":3,"names":["BASE_URL","getAllProducts","res","fetch","ok","Error","json","saveProduct","product","method","headers","body","JSON","stringify","updateProduct","id","deleteProduct","status"],"sources":["D:/Rei/Reis11/CursoWebIntegrador/frontend/src/services/productService.js"],"sourcesContent":["const BASE_URL = \"http://localhost:80/market/api/products\";\r\n\r\n// 1. OBTENER TODOS (GET /products)\r\n// Acción: Listar toda la colección.\r\nexport async function getAllProducts() {\r\n    // Hace GET a la URL base: http://localhost:80/market/api/products\r\n    const res = await fetch(BASE_URL); \r\n    if (!res.ok) throw new Error(\"Error al listar\");\r\n    return res.json();\r\n}\r\n\r\n// 2. CREAR (POST /products)\r\n// Acción: Crear un nuevo recurso en la colección.\r\nexport async function saveProduct(product) {\r\n    // Hace POST a la URL base\r\n    const res = await fetch(BASE_URL, { \r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(product),\r\n    });\r\n    if (!res.ok) throw new Error(\"Error al guardar\");\r\n    return res.json();\r\n}\r\n\r\n// 3. ACTUALIZAR (PUT /products/{id})\r\n// Acción: Reemplazar o actualizar un recurso específico.\r\nexport async function updateProduct(id, product) {\r\n    // Hace PUT a la URL del recurso específico: http://localhost:80/market/api/products/{id}\r\n    const res = await fetch(`${BASE_URL}/${id}`, { \r\n        method: \"PUT\", // **Este método define la acción de actualización.**\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(product),\r\n    });\r\n    // Nota: Es importante que el Backend espere PUT en esta ruta.\r\n    if (!res.ok) throw new Error(\"Error al actualizar\");\r\n    return res.json();\r\n}\r\n\r\n// 4. ELIMINAR (DELETE /products/{id})\r\n// Acción: Eliminar un recurso específico.\r\nexport async function deleteProduct(id) {\r\n    // Hace DELETE a la URL del recurso específico\r\n    const res = await fetch(`${BASE_URL}/${id}`, { method: \"DELETE\" }); \r\n    // Los servidores suelen devolver 204 (No Content) o 200 (OK) al eliminar.\r\n    if (res.status !== 204 && res.status !== 200) {\r\n        throw new Error(\"No se pudo eliminar\");\r\n    }\r\n}"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,yCAAyC;;AAE1D;AACA;AACA,OAAO,eAAeC,cAAcA,CAAA,EAAG;EACnC;EACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,QAAQ,CAAC;EACjC,IAAI,CAACE,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;EAC/C,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACrB;;AAEA;AACA;AACA,OAAO,eAAeC,WAAWA,CAACC,OAAO,EAAE;EACvC;EACA,MAAMN,GAAG,GAAG,MAAMC,KAAK,CAACH,QAAQ,EAAE;IAC9BS,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO;EAChC,CAAC,CAAC;EACF,IAAI,CAACN,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,kBAAkB,CAAC;EAChD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACrB;;AAEA;AACA;AACA,OAAO,eAAeQ,aAAaA,CAACC,EAAE,EAAEP,OAAO,EAAE;EAC7C;EACA,MAAMN,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,IAAIe,EAAE,EAAE,EAAE;IACzCN,MAAM,EAAE,KAAK;IAAE;IACfC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO;EAChC,CAAC,CAAC;EACF;EACA,IAAI,CAACN,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;EACnD,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACrB;;AAEA;AACA;AACA,OAAO,eAAeU,aAAaA,CAACD,EAAE,EAAE;EACpC;EACA,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,IAAIe,EAAE,EAAE,EAAE;IAAEN,MAAM,EAAE;EAAS,CAAC,CAAC;EAClE;EACA,IAAIP,GAAG,CAACe,MAAM,KAAK,GAAG,IAAIf,GAAG,CAACe,MAAM,KAAK,GAAG,EAAE;IAC1C,MAAM,IAAIZ,KAAK,CAAC,qBAAqB,CAAC;EAC1C;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}