{"ast":null,"code":"var _jsxFileName = \"D:\\\\reisans9\\\\Semana13\\\\CursoWebIntegrador\\\\frontend\\\\src\\\\components\\\\ProductForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { saveProduct, updateProduct } from \"../services/productService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst vacio = {\n  name: \"\",\n  price: \"\",\n  stock: \"\",\n  categoryId: \"\"\n};\nexport default function ProductForm({\n  productoEditar,\n  onGuardado\n}) {\n  _s();\n  const [producto, setProducto] = useState(vacio);\n  useEffect(() => {\n    if (productoEditar) setProducto(productoEditar);else setProducto(vacio);\n  }, [productoEditar]);\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProducto(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    const esEdicion = !!producto.productId;\n    try {\n      if (esEdicion) {\n        await updateProduct(producto.productId, producto);\n        alert(\"Actualizado\");\n      } else {\n        await saveProduct(producto);\n        alert(\"Registrado\");\n      }\n      setProducto(vacio);\n      onGuardado === null || onGuardado === void 0 ? void 0 : onGuardado(); // recargar lista en el padre\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [producto.productId ? \"Editar\" : \"Registrar\", \" Producto\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: producto.name,\n      onChange: onChange,\n      placeholder: \"Nombre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"price\",\n      value: producto.price,\n      onChange: onChange,\n      placeholder: \"Precio\",\n      type: \"number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"stock\",\n      value: producto.stock,\n      onChange: onChange,\n      placeholder: \"Stock\",\n      type: \"number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"categoryId\",\n      value: producto.categoryId,\n      onChange: onChange,\n      placeholder: \"Categor\\xEDa ID\",\n      type: \"number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: producto.productId ? \"Actualizar\" : \"Registrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductForm, \"E+/9F9AL+fkCvdxgRN9kfRHjlqM=\");\n_c = ProductForm;\nvar _c;\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["useEffect","useState","saveProduct","updateProduct","jsxDEV","_jsxDEV","vacio","name","price","stock","categoryId","ProductForm","productoEditar","onGuardado","_s","producto","setProducto","onChange","e","value","target","prev","onSubmit","preventDefault","esEdicion","productId","alert","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","type","_c","$RefreshReg$"],"sources":["D:/reisans9/Semana13/CursoWebIntegrador/frontend/src/components/ProductForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { saveProduct, updateProduct } from \"../services/productService\";\r\nconst vacio = { name: \"\", price: \"\", stock: \"\", categoryId: \"\" };\r\nexport default function ProductForm({ productoEditar, onGuardado }) {\r\n    const [producto, setProducto] = useState(vacio);\r\n    useEffect(() => {\r\n        if (productoEditar) setProducto(productoEditar);\r\n        else setProducto(vacio);\r\n    }, [productoEditar]);\r\n    const onChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setProducto((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const esEdicion = !!producto.productId;\r\n        try {\r\n            if (esEdicion) {\r\n                await updateProduct(producto.productId, producto);\r\n                alert(\"Actualizado\");\r\n            } else {\r\n                await saveProduct(producto);\r\n                alert(\"Registrado\");\r\n            }\r\n            setProducto(vacio);\r\n            onGuardado?.(); // recargar lista en el padre\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    };\r\n    return (\r\n        \r\n        <form onSubmit={onSubmit}>\r\n            <h3>{producto.productId ? \"Editar\" : \"Registrar\"} Producto</h3>\r\n            <input name=\"name\" value={producto.name} onChange={onChange} placeholder=\"Nombre\" />\r\n            <input name=\"price\" value={producto.price} onChange={onChange} placeholder=\"Precio\" type=\"number\" />\r\n            <input name=\"stock\" value={producto.stock} onChange={onChange} placeholder=\"Stock\" type=\"number\" />\r\n            <input name=\"categoryId\" value={producto.categoryId} onChange={onChange} placeholder=\"CategorÃ­a ID\"\r\n                type=\"number\" />\r\n            <button type=\"submit\">{producto.productId ? \"Actualizar\" : \"Registrar\"}</button>\r\n            \r\n        </form>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}